# Event Marketplace Cloud Functions

Этот проект содержит Cloud Functions для приложения Event Marketplace, которые обрабатывают уведомления и автоматизацию.

## Функции

### 1. onBookingCreated
- **Триггер**: Создание нового документа в коллекции `bookings`
- **Действие**: Отправляет push-уведомления клиенту и специалисту о новом бронировании

### 2. onBookingStatusChanged
- **Триггер**: Обновление статуса бронирования
- **Действие**: Отправляет уведомления об изменении статуса (подтверждено, отклонено, отменено)

### 3. sendBookingReminders
- **Триггер**: Ежедневно в 9:00 по московскому времени
- **Действие**: Отправляет напоминания о предстоящих бронированиях на следующий день

## Установка и развертывание

1. Установите зависимости:
```bash
cd functions
npm install
```

2. Скомпилируйте TypeScript:
```bash
npm run build
```

3. Разверните функции:
```bash
npm run deploy
```

## Локальная разработка

1. Запустите эмулятор:
```bash
npm run serve
```

2. Функции будут доступны по адресу `http://localhost:5001`

## Структура проекта

```
functions/
├── src/
│   └── index.ts          # Основной файл с функциями
├── package.json          # Зависимости Node.js
├── tsconfig.json         # Конфигурация TypeScript
└── README.md            # Этот файл
```

## Требования

- Node.js 18+
- Firebase CLI
- Firebase проект с включенными Firestore и Cloud Functions

