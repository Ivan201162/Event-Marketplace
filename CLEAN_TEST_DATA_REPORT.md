# –û–¢–ß–Å–¢: –°–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–î–∞—Ç–∞:** 2025-01-27  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  
**–§–∞–π–ª:** `tools/clean_test_data.ts`

---

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û

### 1. –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏
- ‚úÖ –§–∞–π–ª: `tools/clean_test_data.ts`
- ‚úÖ –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∫–æ–ª–ª–µ–∫—Ü–∏–π
- ‚úÖ –û—á–∏—Å—Ç–∫–∞ Firebase Storage —Ñ–∞–π–ª–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### 2. –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ email (test, demo, example, fake, dev, seed)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ username (test, demo, mock, autogen)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ displayName (Test, Demo, User123, Generated)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ uid –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ (test_, seed_, mock_)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ä—ã—Ö –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (—Å—Ç–∞—Ä—à–µ 10 –¥–Ω–µ–π, –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö email –¥–æ–º–µ–Ω–æ–≤ (gmail.com, yandex.ru –∏ —Ç.–ø.)
- –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å `production: true`

### 3. –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏
‚úÖ –í—Å–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤–∫–ª—é—á–µ–Ω—ã:
- `users` ‚úÖ
- `specialists` ‚úÖ
- `posts` ‚úÖ
- `ideas` ‚úÖ
- `stories` ‚úÖ
- `requests` ‚úÖ
- `chats` ‚úÖ
- `messages` ‚úÖ
- `follows` ‚úÖ
- `notifications` ‚úÖ
- `events_profile_views` ‚úÖ
- `events_post_engagement` ‚úÖ
- `events_follow` ‚úÖ
- `events_requests` ‚úÖ
- `specialist_stats` ‚úÖ
- `specialist_scores` ‚úÖ

### 4. Firebase Storage –ø—É—Ç–∏
‚úÖ –û—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤:
- `uploads/avatars/*` ‚úÖ
- `uploads/posts/*` ‚úÖ
- `uploads/reels/*` ‚úÖ
- `uploads/ideas/*` ‚úÖ
- `uploads/stories/*` ‚úÖ

---

## ‚ö†Ô∏è –¢–†–ï–ë–û–í–ê–ù–ò–Ø –î–õ–Ø –ó–ê–ü–£–°–ö–ê

### Service Account –∫–ª—é—á

–°–∫—Ä–∏–ø—Ç —Ç—Ä–µ–±—É–µ—Ç Firebase Service Account –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –§–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Firebase Console: https://console.firebase.google.com
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç: `event-marketplace-mvp`
3. Project Settings ‚Üí Service Accounts
4. –ù–∞–∂–º–∏—Ç–µ "Generate New Private Key"
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª –∫–∞–∫ `firebase-service-account.json` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```powershell
$env:GOOGLE_APPLICATION_CREDENTIALS = "C:\path\to\service-account-key.json"
```

---

## üöÄ –ó–ê–ü–£–°–ö –°–ö–†–ò–ü–¢–ê

```bash
cd tools
npx ts-node clean_test_data.ts
```

---

## üìä –§–û–†–ú–ê–¢ –û–¢–ß–Å–¢–ê

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–µ–¥–µ—Ç:

```
‚úÖ –û–ß–ò–°–¢–ö–ê –ó–ê–í–ï–†–®–ï–ù–ê

üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –£–î–ê–õ–ï–ù–ò–Ø:
  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: X
  –°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã: X
  –ü–æ—Å—Ç—ã: X
  –ò–¥–µ–∏: X
  Stories: X
  –ó–∞—è–≤–∫–∏: X
  –ß–∞—Ç—ã: X
  –°–æ–æ–±—â–µ–Ω–∏—è: X
  –ü–æ–¥–ø–∏—Å–∫–∏: X
  –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: X
  Events (profile views): X
  Events (post engagement): X
  Events (follow): X
  Events (requests): X
  Specialist stats: X
  Specialist scores: X
  –§–∞–π–ª—ã Storage: X

üìã –ö–û–õ–õ–ï–ö–¶–ò–ò –ü–û–°–õ–ï –û–ß–ò–°–¢–ö–ò:
  users: X –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–∏–ª–∏ OK (empty))
  specialists: X –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–∏–ª–∏ OK (empty))
  ...

‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ù–ï –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã
   –£–¥–∞–ª–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: X
```

---

## üîí –ó–ê–©–ò–¢–ê –†–ï–ê–õ–¨–ù–´–• –î–ê–ù–ù–´–•

–°–∫—Ä–∏–ø—Ç **–ù–ï —É–¥–∞–ª–∏—Ç**:
- ‚úÖ –ê–∫–∫–∞—É–Ω—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ email (gmail.com, yandex.ru, mail.ru, icloud.com –∏ —Ç.–ø.)
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å—é (>0 –ø–æ—Å—Ç–æ–≤, >0 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤, >0 —á–∞—Ç–æ–≤)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã —Å `production: true`
- ‚úÖ –ê–∫–∫–∞—É–Ω—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û

1. **–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å backup –¥–∞–Ω–Ω—ã—Ö (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
2. **Service Account –∫–ª—é—á**: –î–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞**: –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—Ç—á—ë—Ç –∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É–¥–∞–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üìù –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. ‚úÖ –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω
2. ‚è∏Ô∏è –ü–æ–ª—É—á–∏—Ç—å Service Account –∫–ª—é—á –∏–∑ Firebase Console
3. ‚è∏Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç: `npx ts-node tools/clean_test_data.ts`
4. ‚è∏Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á—ë—Ç
5. ‚è∏Ô∏è –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã

---

**–°–∫—Ä–∏–ø—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Service Account –∫–ª—é—á –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.**

