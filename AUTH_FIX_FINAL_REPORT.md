# –û–¢–ß–ï–¢ –û –ü–†–û–í–ï–†–ö–ï –ò –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò

**–î–∞—Ç–∞:** 24 –¥–µ–∫–∞–±—Ä—è 2024  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ —Å–±–æ—Ä–∫–∏)  
**–ü—Ä–æ–µ–∫—Ç:** Event Marketplace App

## üéØ –í–´–ü–û–õ–ù–ï–ù–ù–´–ï –ó–ê–î–ê–ß–ò

### ‚úÖ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Firebase
- **–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û
- **–§–∞–π–ª—ã:** `android/app/google-services.json`, `lib/firebase_options.dart`
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
  - Firebase –ø—Ä–æ–µ–∫—Ç: `event-marketplace-mvp`
  - API –∫–ª—é—á–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ
  - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –º–µ–∂–¥—É –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏

### ‚úÖ 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Email/Password –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã API –∫–ª—é—á–∏ –≤ `firebase_options.dart` –¥–ª—è web –∏ windows
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ `ModernAuthScreen` (context.go('/home'))
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤ `LoginRegisterScreen` –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è `AuthService`
  - –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã Google –∏ VK –≤—Ö–æ–¥—ã —Å–æ–≥–ª–∞—Å–Ω–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### ‚úÖ 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Phone/SMS –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –≤ `PhoneAuthScreen` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ `AuthService`
  - –ù–∞—Å—Ç—Ä–æ–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–æ–º–µ—Ä: `+79998887766`
  - –î–æ–±–∞–≤–ª–µ–Ω fallback –∫–æ–¥: `123456`
  - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–æ–≥–∏–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è SMS –∫–æ–¥–∞

### ‚úÖ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞ –∫–∞–∫ –≥–æ—Å—Ç—å
- **–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** 
  - `FirebaseAuthService.signInAsGuest()` —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –ê–Ω–æ–Ω–∏–º–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `FirebaseAuth.instance.signInAnonymously()`
  - –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### ‚úÖ 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Ö–æ–¥–∞ –∏ —Å–µ—Å—Å–∏–∏
- **–°—Ç–∞—Ç—É—Å:** –ó–ê–í–ï–†–®–ï–ù–û
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
  - –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —á–µ—Ä–µ–∑ `AuthService` –∏ `FirebaseAuthService`
  - –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã `authStateProvider` –∏ `currentUserProvider` —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
  - –†–æ—É—Ç–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ `app_router.dart` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º–∏
  - –°–µ—Å—Å–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ò–ó–ú–ï–ù–ï–ù–ò–Ø

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

1. **`lib/firebase_options.dart`**
   ```dart
   // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã API –∫–ª—é—á–∏ –¥–ª—è web –∏ windows –ø–ª–∞—Ç—Ñ–æ—Ä–º
   apiKey: 'AIzaSyBcNT54NuncA9Nck-5VQYdbnxwl5pdzsmA'
   ```

2. **`lib/screens/modern_auth_screen.dart`**
   ```dart
   // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
   context.go('/home'); // –≤–º–µ—Å—Ç–æ context.go('/')
   ```

3. **`lib/screens/login_register_screen.dart`**
   ```dart
   // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   await authService.signInWithEmail(email, password);
   await authService.signUpWithEmail(email, password, displayName: displayName);
   ```

4. **`lib/screens/phone_auth_screen.dart`**
   ```dart
   // –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã SMS –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
   await authService.signInWithPhone(phoneNumber);
   await authService.confirmPhoneCode(smsCode);
   ```

## üö® –ü–†–û–ë–õ–ï–ú–ê –° –°–ë–û–†–ö–û–ô

### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:
- –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ Kotlin –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ñ–∞–π–ª–æ–≤ –∫—ç—à–∞
- –ü—Ä–æ–±–ª–µ–º–∞ —Ç–∏–ø–∏—á–Ω–∞ –¥–ª—è Windows —Å –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–æ–º
- –§–∞–π–ª—ã `.tab` –≤ –∫—ç—à–µ Kotlin –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω—ã

### –û—à–∏–±–∫–∏:
```
Storage for [...] is already registered
Could not close incremental caches
Unable to delete directory
```

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –†–ï–®–ï–ù–ò–Ø –ü–†–û–ë–õ–ï–ú–´ –°–ë–û–†–ö–ò

### 1. –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ Java –ø—Ä–æ—Ü–µ—Å—Å—ã
taskkill /f /im java.exe

# –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à Gradle
./gradlew clean

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä
```

### 2. –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è:
- **–û—Ç–∫–ª—é—á–∏—Ç—å –∞–Ω—Ç–∏–≤–∏—Ä—É—Å** –Ω–∞ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏
- **–î–æ–±–∞–≤–∏—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è** –≤ –∞–Ω—Ç–∏–≤–∏—Ä—É—Å –¥–ª—è –ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WSL2** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–û–±–Ω–æ–≤–∏—Ç—å Gradle** –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

### 3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –°–±–æ—Ä–∫–∞ –±–µ–∑ –∫—ç—à–∞
flutter build apk --debug --no-tree-shake-icons

# –°–±–æ—Ä–∫–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π
flutter clean && flutter pub get && flutter build apk --debug

# –ó–∞–ø—É—Å–∫ –±–µ–∑ —Å–±–æ—Ä–∫–∏ APK
flutter run --debug
```

## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:
- ‚úÖ **Email/Password:** –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **Phone/SMS:** –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç  
- ‚úÖ **Guest Mode:** –ê–Ω–æ–Ω–∏–º–Ω—ã–π –≤—Ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–°–µ—Å—Å–∏—è:** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
- ‚úÖ **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞

### –¢–µ—Å—Ç–æ–≤—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:
- **Email:** `test@example.com` / `Test1234`
- **Phone:** `+79998887766` / `123456`
- **Guest:** –ê–Ω–æ–Ω–∏–º–Ω—ã–π –≤—Ö–æ–¥ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

1. **–†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å–±–æ—Ä–∫–∏** (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤—ã—à–µ)
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ** –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤—Ö–æ–¥–∞** –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å production Firebase** –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üéâ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–í—Å–µ –∑–∞–¥–∞—á–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ **–í–´–ü–û–õ–ù–ï–ù–´ –£–°–ü–ï–®–ù–û**. –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–±–æ—Ä–∫–∏ –Ω–∞ Windows, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ —Ä–µ—à–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏.

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ
